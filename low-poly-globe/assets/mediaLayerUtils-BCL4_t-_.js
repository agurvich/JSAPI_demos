import{$ as m,j as p}from"./utils-DwyBPDBM.js";import{fn as s,fd as f,f7 as y,f8 as d,fa as v}from"./index-BqO8XNEn.js";const n="Media Layer",x="media-layer-save",N="media-layer-save-as",o=["media-layer:unsupported-source"];function i(e){return{isValid:e.type==="media",errorMessage:"Layer.type should be 'media'"}}function u(e){return f(e,"portal-item",!0)}function c(e){return e.layerJSON}async function A(e,a){const{title:t,fullExtent:r}=e;a.title||(a.title=t),a.extent=r?await y(r):null,d(a,v.METADATA)}async function L(e,a){return m({layer:e,itemType:n,validateLayer:i,createJSONContext:t=>u(t),createItemData:c,errorNamePrefix:x,supplementalUnsupportedErrors:o,saveResources:(t,r)=>s(e.resourceReferences,r)},a)}async function R(e,a,t){return p({layer:e,itemType:n,validateLayer:i,createJSONContext:r=>u(r),createItemData:c,errorNamePrefix:N,supplementalUnsupportedErrors:o,newItem:a,setItemProperties:A,saveResources:(r,l)=>s(e.resourceReferences,l)},t)}export{L as save,R as saveAs};
